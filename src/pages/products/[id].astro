---
import BaseLayout from '../../layouts/BaseLayout.astro';
import ProductCard from '../../components/ProductCard.astro';

export async function getStaticPaths() {
  // Fetch products data from the API
  const response = await fetch('https://fakestoreapi.com/products');
  const products = await response.json();

  // Map through the products and return an array of objects with the product ID's
  return products.map(product => ({
    params: { id: product.id.toString() },
    props: {
      product
    },
  }));
}

const { product } = Astro.props;
---


<BaseLayout>
  <ProductCard product={product} />
</BaseLayout>